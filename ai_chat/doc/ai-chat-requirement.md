# AI-Chat 项目

此项目是一个基于大语言模型和知识库的聊天软件，分为前端和后台两部分。此项目是个典型的 AI 对话界面，如 ChatGPT、DeepSeek 等公司提供的 AI 对话应用。

## 前端功能：

前端是一个基于带有对话历史记录管理的聊天界面，类似 claude.ai 对话聊天功能，主要功能如下：

- 用 Vue 实现，响应式布局，可在电脑桌面浏览器或手机浏览器上使用；
- 样式风格参考图片 [chat-gpt.png](chat-gpt.png)，这是ChatGPT聊天页面的风格，设计前端css时参考这个图片进行设计
- 左侧有个侧边栏，为功能菜单区，右侧为主显示区，显示对话内容；
- 侧边栏提供隐藏图标，鼠标点击后可缩回隐藏侧边栏；
- 侧边栏包含对话历史、创建新对话的图标按钮；
- 点击新对话按钮或图标，在右侧主显示区显示新对话，侧边栏增加本次新对话记录；
- 对话历史和对话内容均通过调用后台的 API 接口保存到数据库中；
- 新对话可自动生成一个临时的对话名称显示在侧边栏，并调用后台接口修改本对话的名称；
- 每个对话在右侧提供一个操作菜单，菜单下拉项包括修改标题、删除对话的操作；
- 浏览器中访问此应用时，要从后台读取对话记录，填充到侧边栏；
- 用户点击侧边栏的对话名称后，在右侧主显示区显示本地对话的所有对话记录；
- 右侧主显示区显示本地对话内容，下方提供给用户输入对话内容的多行输入文本框；
- 基于对话的文件上传功能，即在每个对话窗口提供用户上传本地文件的功能，单个文件大小限制在 10M 以内，调用后台接口把文件上传到服务器；
- 对话内的简单的文件管理功能，在对话主显示区的用户输入区域的上方，提供一个简单的文件管理区域，可以显示本对话内文件上传的状态（如正在上传、上传成功、上传失败等）、已上传的文件项（文件名）、删除已上传的文件；
- 各对话的文件互相隔离，互不相关；

## 后台主要功能：

提供标准的 OpenAPI 形式的接口，供前端调用。目前提供的接口如下：

- 读取对话历史列表，返回对话历史名称及相关 ID 及其它数据；
- 创建新的对话，新对话的信息保存到数据库；
- 读取特定对话（依据对话 ID）的对话内容；
- 在特定对话中增加记录；
- 修改特定对话标题；
- 删除特定对话，同时删除此对话对应的所有通话记录和上传的文件；
- 文件上传，把上传的文件保存到本地目录 `uploads`；

后台用python语言编码，接口产生的数据保存在数据库中，目前数据库用本地 SQLite 数据库。

## 国际化支持
提供多语言功能，即i18n功能的实现，具体要求如下：
- 目前提供英文、简体中文、繁体中文的3种语言界面；
- 允许用户自行切换语言，在侧边栏右上方收起/显示侧边栏按钮的左边，增加一个切换语言图标，用户点击图标后，下来弹出3个种语言的选择菜单，供用户选择，同时在对应语言菜单的左侧显示一个对勾图标；
- 用户选择语言后，当前界面切换到这个语言，同时在浏览器的cookie里保存此选择（永久cookie），以后用户再打开浏览器访问此应用时，读取此cookie数据，来决定用户使用的语言；
- 后端根据此cookie来识别用户使用的语言类型，在模拟用户回复聊天消息时，根据语言来决定回复用户消息时使用哪种语言，首次使用没有找到cookie时，默认使用英语；
- 使用语言优先级确定：
    - 先判断浏览器本地是否有用户选择的语言cookie数据，如果有，则使用此语言；
    - 如果没有，则使用浏览器使用的语言；
    - 如果浏览器语言不在上面3种语言内，则默认用英文；
    - 如何情况下，如果匹配语言不成功，则使用英文作为默认语言；